{% extends 'base_back.html.twig' %}

{% block title %}Hello ArticleAdminController!{% endblock %}

{% block body %}
 {{form_start(form,{'attr':{'class':'form-inline'}})}}
    <div class="input-group input-group-sm">
      {{form_widget(form.mots,{'attr':{'class':'form-control form-control-navbar'}})}}
      <div class="input-group-append">
        {{form_widget(form.Rechercher,{'attr':{'class':'btn btn-navbar'}})}}
      </div>
    </div>
    {{form_end(form)}}</li>


<div class="card card-table">
  <div class="card-body">
    <div class="title-header option-title d-sm-flex d-block">
      <h5>Liste des articles</h5>
      
    </div>
    <div>
      <div class="table-responsive">
        <div id="table_id_wrapper" class="dataTables_wrapper no-footer">
          
          <table
            class="table all-package theme-table table-product dataTable no-footer"
            id="table_id"
          >
            <thead>
              <tr>
                <th
                  class="sorting_disabled"
                  rowspan="1"
                  colspan="1"
                  style="width: 170px"
                >
                  Image
                </th>
                <th
                  class="sorting_disabled"
                  rowspan="1"
                  colspan="1"
                  style="width: 170px"
                >
                  Name
                </th>
                <th
                  class="sorting_disabled"
                  rowspan="1"
                  colspan="1"
                  style="width: 170px"
                >
                 Email
                </th>
                {# <th
                  class="sorting_disabled"
                  rowspan="1"
                  colspan="1"
                  style="width: 170px"
                >
                Category
                </th> #}
                <th
                  class="sorting_disabled"
                  rowspan="1"
                  colspan="1"
                  style="width: 170px"
                >
                  Option
                </th>
              </tr>
            </thead>

            <tbody>
              {% for article in articles %}
              <tr class="odd">
                <td>
                  <div class="table-image">
                    <img
                    src="{{ asset('uploads/brochures/' ~ article.image) }}"
                      class="img-fluid"
                      alt=""
                    />
                  </div>
                </td>

                <td>{{ article.getNomArticle() }}</td>

                <td>{{article.user.email}}</td>

                {# <td>{{ article.getCategorie().getNomC() }}</td> #}

                <td>
                  <ul>
                    
                    <li>
                      <a>
                        <form
                          method="post"
                          action="{{ path('app_mesarticles_delete', { id: article.getIdArticle() }) }}"
                          onsubmit="return confirm('Are you sure you want to delete this item?');"
                        >
                          <input
                            type="hidden"
                            name="_token"
                            value="{{ csrf_token('delete' ~ article.getIdArticle()) }}"
                          />
                          <button type="submit" class="btn">
                            <i class="ri-delete-bin-line"></i>
                          </button>
                        </form>
                      </a>
                    </li>
                  </ul>
                </td>
              </tr>
              {% else %}
              <div>no records found</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<nav aria-label="Page navigation example"><ul class="pagination justify-content-center">{% if currentPage > 1 %}<li class="page-item">
<a hidden class="page-link" href="{{ path('app_article_admin', { 'page': currentPage - 1 }) }}">Précédent</a>
<a class="page-link" href="{{ path('app_article_admin', { 'page': currentPage - 1 }) }}" aria-label="Previous">
	<span aria-hidden="true">&laquo;</span>
	<span class="sr-only">Previous</span>
</a></li>{% endif %}{% for page in 1..pagesCount %}{% if page == currentPage %}
<li class="page-item active">
	<span class="page-link">{{ page }}</span>
</li>{% else %}
<li class="page-item">
	<a class="page-link" href="{{ path('app_article_admin', {'page': page}) }}">{{ page }}</a>
</li>{% endif %}{% endfor %}{% if currentPage < pagesCount %}<li class="page-item">
<a hidden class="page-link" href="{{ path('app_article_admin', { 'page': currentPage + 1 }) }}">Next</a>
<a class="page-link" href="{{ path('app_article_admin', { 'page': currentPage + 1 }) }}" aria-label="Next">
	<span aria-hidden="true">&raquo;</span>
	<span class="sr-only">Next</span>
</a></li>{% endif %}</ul></nav>

{% endblock %}
