{% extends 'base_back.html.twig' %}

{% block body %}


<div class="table-responsive">
    <table class="table table-hover">
        <thead>
            <tr>
                <th></th>
                <th></th>
                <th>Suggestion</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for s in suggestion %}
            {% if s.suggC is not null %}

            <tr>
                <td></td>
                <td></td>
                <td>{{ s.suggC }}</td>
                <td>
                    <a href="{{ path("Refusersuggestion",{'id':s.idS}) }}" class="btn btn-danger deletion-button" onclick="confirmDeletion(event)">
                        <i class="fas fa-trash"></i> Refuser
                    </a>
                </td>
                <td>
                    <a class="btn btn-success accept-button" onclick="acceptSuggestion(event, {{s.idS}})">
                        <i class="fas fa-check"></i> Accepter
                    </a>
                </td>


            </tr>

             {% endif %}
            {% endfor %}
        </tbody>
    </table>
</div>
<style>
.deletion-button, .modification-button, .add-category-button {
  transition: all 0.3s ease-in-out;
}

.deletion-button:hover, .modification-button:hover, .add-category-button:hover {
  transform: scale(1.1);
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}

.deletion-button:active {
  background-color: #dc3545;
  transform: scale(0.9);
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
}

.modification-button:active {
  background-color: #007bff;
  transform: scale(0.9);
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
}

.accept-button:active {
  background-color: #28a745;
  transform: scale(0.9);
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
}

.table-hover tbody tr:hover {
    background-color: #f8f9fa;
}

.table-hover tbody td {
    vertical-align: middle;
}

.table-hover thead th {
    text-align: center;
}

.table-responsive {
    overflow-x: auto;
}
</style>
<script>
function confirmDeletion(event) {
  event.preventDefault();
  if (confirm("Êtes-vous sûr de vouloir supprimer cette suggestion?")) {
    window.location.href = event.target.href;
  }
}

function acceptSuggestion(event, suggestionId) {
  event.preventDefault();
  var row = event.target.closest("tr");
  row.style.backgroundColor = "#d4edda";
  alert("Suggestion acceptée !");
  // vous pouvez ajouter du code ici pour envoyer une requête AJAX pour marquer la suggestion comme acceptée dans la base de données
}
</script>
{% endblock %}
